begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Licensed to the Apache Software Foundation (ASF) under one or more  * contributor license agreements.  See the NOTICE file distributed with  * this work for additional information regarding copyright ownership.  * The ASF licenses this file to You under the Apache License, Version 2.0  * (the "License"); you may not use this file except in compliance with  * the License.  You may obtain a copy of the License at  *  *      http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
package|package
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|pdmodel
operator|.
name|font
package|;
end_package

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSArray
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSBase
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSDictionary
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSName
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSStream
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|cos
operator|.
name|COSString
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|pdmodel
operator|.
name|common
operator|.
name|COSObjectable
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|pdmodel
operator|.
name|common
operator|.
name|PDRectangle
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|pdfbox
operator|.
name|pdmodel
operator|.
name|common
operator|.
name|PDStream
import|;
end_import

begin_comment
comment|/**  * A font descriptor.  *  * @author Ben Litchfield  */
end_comment

begin_class
specifier|public
specifier|final
class|class
name|PDFontDescriptor
implements|implements
name|COSObjectable
block|{
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_FIXED_PITCH
init|=
literal|1
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_SERIF
init|=
literal|2
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_SYMBOLIC
init|=
literal|4
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_SCRIPT
init|=
literal|8
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_NON_SYMBOLIC
init|=
literal|32
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_ITALIC
init|=
literal|64
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_ALL_CAP
init|=
literal|65536
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_SMALL_CAP
init|=
literal|131072
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|int
name|FLAG_FORCE_BOLD
init|=
literal|262144
decl_stmt|;
specifier|private
specifier|final
name|COSDictionary
name|dic
decl_stmt|;
specifier|private
name|float
name|xHeight
init|=
name|Float
operator|.
name|NEGATIVE_INFINITY
decl_stmt|;
specifier|private
name|float
name|capHeight
init|=
name|Float
operator|.
name|NEGATIVE_INFINITY
decl_stmt|;
specifier|private
name|int
name|flags
init|=
operator|-
literal|1
decl_stmt|;
comment|/**      * Package-private constructor, for embedding.      */
name|PDFontDescriptor
parameter_list|()
block|{
name|dic
operator|=
operator|new
name|COSDictionary
argument_list|()
expr_stmt|;
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|TYPE
argument_list|,
name|COSName
operator|.
name|FONT_DESC
argument_list|)
expr_stmt|;
block|}
comment|/**      * Creates a PDFontDescriptor from a COS dictionary.      *      * @param desc The wrapped COS Dictionary.      */
specifier|public
name|PDFontDescriptor
parameter_list|(
name|COSDictionary
name|desc
parameter_list|)
block|{
name|dic
operator|=
name|desc
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isFixedPitch
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_FIXED_PITCH
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setFixedPitch
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_FIXED_PITCH
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isSerif
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_SERIF
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setSerif
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_SERIF
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isSymbolic
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_SYMBOLIC
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setSymbolic
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_SYMBOLIC
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isScript
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_SCRIPT
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setScript
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_SCRIPT
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isNonSymbolic
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_NON_SYMBOLIC
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setNonSymbolic
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_NON_SYMBOLIC
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isItalic
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_ITALIC
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setItalic
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_ITALIC
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isAllCap
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_ALL_CAP
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setAllCap
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_ALL_CAP
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isSmallCap
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_SMALL_CAP
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setSmallCap
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_SMALL_CAP
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
comment|/**      * A convenience method that checks the flag bit.      *      * @return The flag value.      */
specifier|public
name|boolean
name|isForceBold
parameter_list|()
block|{
return|return
name|isFlagBitOn
argument_list|(
name|FLAG_FORCE_BOLD
argument_list|)
return|;
block|}
comment|/**      * A convenience method that sets the flag bit.      *      * @param flag The flag value.      */
specifier|public
name|void
name|setForceBold
parameter_list|(
name|boolean
name|flag
parameter_list|)
block|{
name|setFlagBit
argument_list|(
name|FLAG_FORCE_BOLD
argument_list|,
name|flag
argument_list|)
expr_stmt|;
block|}
specifier|private
name|boolean
name|isFlagBitOn
parameter_list|(
name|int
name|bit
parameter_list|)
block|{
return|return
operator|(
name|getFlags
argument_list|()
operator|&
name|bit
operator|)
operator|!=
literal|0
return|;
block|}
specifier|private
name|void
name|setFlagBit
parameter_list|(
name|int
name|bit
parameter_list|,
name|boolean
name|value
parameter_list|)
block|{
name|int
name|flags
init|=
name|getFlags
argument_list|()
decl_stmt|;
if|if
condition|(
name|value
condition|)
block|{
name|flags
operator|=
name|flags
operator||
name|bit
expr_stmt|;
block|}
else|else
block|{
name|flags
operator|=
name|flags
operator|&
operator|(
operator|~
name|bit
operator|)
expr_stmt|;
block|}
name|setFlags
argument_list|(
name|flags
argument_list|)
expr_stmt|;
block|}
comment|/**      * Convert this standard java object to a COS object.      *      * @return The cos object that matches this Java object.      */
annotation|@
name|Override
specifier|public
name|COSDictionary
name|getCOSObject
parameter_list|()
block|{
return|return
name|dic
return|;
block|}
comment|/**      * Get the font name.      *      * @return The name of the font.      */
specifier|public
name|String
name|getFontName
parameter_list|()
block|{
name|String
name|retval
init|=
literal|null
decl_stmt|;
name|COSBase
name|base
init|=
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_NAME
argument_list|)
decl_stmt|;
if|if
condition|(
name|base
operator|instanceof
name|COSName
condition|)
block|{
name|retval
operator|=
operator|(
operator|(
name|COSName
operator|)
name|base
operator|)
operator|.
name|getName
argument_list|()
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * This will set the font name.      *      * @param fontName The new name for the font.      */
specifier|public
name|void
name|setFontName
parameter_list|(
name|String
name|fontName
parameter_list|)
block|{
name|COSName
name|name
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|fontName
operator|!=
literal|null
condition|)
block|{
name|name
operator|=
name|COSName
operator|.
name|getPDFName
argument_list|(
name|fontName
argument_list|)
expr_stmt|;
block|}
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_NAME
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
comment|/**      * A string representing the preferred font family.      *      * @return The font family.      */
specifier|public
name|String
name|getFontFamily
parameter_list|()
block|{
name|String
name|retval
init|=
literal|null
decl_stmt|;
name|COSString
name|name
init|=
operator|(
name|COSString
operator|)
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_FAMILY
argument_list|)
decl_stmt|;
if|if
condition|(
name|name
operator|!=
literal|null
condition|)
block|{
name|retval
operator|=
name|name
operator|.
name|getString
argument_list|()
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * This will set the font family.      *      * @param fontFamily The font family.      */
specifier|public
name|void
name|setFontFamily
parameter_list|(
name|String
name|fontFamily
parameter_list|)
block|{
name|COSString
name|name
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|fontFamily
operator|!=
literal|null
condition|)
block|{
name|name
operator|=
operator|new
name|COSString
argument_list|(
name|fontFamily
argument_list|)
expr_stmt|;
block|}
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_FAMILY
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
comment|/**      * The weight of the font.  According to the PDF spec "possible values are      * 100, 200, 300, 400, 500, 600, 700, 800 or 900"  Where a higher number is      * more weight and appears to be more bold.      *      * @return The font weight.      */
specifier|public
name|float
name|getFontWeight
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|FONT_WEIGHT
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * Set the weight of the font.      *      * @param fontWeight The new weight of the font.      */
specifier|public
name|void
name|setFontWeight
parameter_list|(
name|float
name|fontWeight
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|FONT_WEIGHT
argument_list|,
name|fontWeight
argument_list|)
expr_stmt|;
block|}
comment|/**      * A string representing the preferred font stretch.      * According to the PDF Spec:      * The font stretch value; it must be one of the following (ordered from      * narrowest to widest): UltraCondensed, ExtraCondensed, Condensed, SemiCondensed,      * Normal, SemiExpanded, Expanded, ExtraExpanded or UltraExpanded.      *      * @return The stretch of the font.      */
specifier|public
name|String
name|getFontStretch
parameter_list|()
block|{
name|String
name|retval
init|=
literal|null
decl_stmt|;
name|COSName
name|name
init|=
operator|(
name|COSName
operator|)
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_STRETCH
argument_list|)
decl_stmt|;
if|if
condition|(
name|name
operator|!=
literal|null
condition|)
block|{
name|retval
operator|=
name|name
operator|.
name|getName
argument_list|()
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * This will set the font stretch.      *      * @param fontStretch The new stretch for the font.      */
specifier|public
name|void
name|setFontStretch
parameter_list|(
name|String
name|fontStretch
parameter_list|)
block|{
name|COSName
name|name
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|fontStretch
operator|!=
literal|null
condition|)
block|{
name|name
operator|=
name|COSName
operator|.
name|getPDFName
argument_list|(
name|fontStretch
argument_list|)
expr_stmt|;
block|}
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_STRETCH
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the font flags.      *      * @return The font flags.      */
specifier|public
name|int
name|getFlags
parameter_list|()
block|{
if|if
condition|(
name|flags
operator|==
operator|-
literal|1
condition|)
block|{
name|flags
operator|=
name|dic
operator|.
name|getInt
argument_list|(
name|COSName
operator|.
name|FLAGS
argument_list|,
literal|0
argument_list|)
expr_stmt|;
block|}
return|return
name|flags
return|;
block|}
comment|/**      * This will set the font flags.      *      * @param flags The new font flags.      */
specifier|public
name|void
name|setFlags
parameter_list|(
name|int
name|flags
parameter_list|)
block|{
name|dic
operator|.
name|setInt
argument_list|(
name|COSName
operator|.
name|FLAGS
argument_list|,
name|flags
argument_list|)
expr_stmt|;
name|this
operator|.
name|flags
operator|=
name|flags
expr_stmt|;
block|}
comment|/**      * This will get the fonts bounding box.      *      * @return The fonts bounding box.      */
specifier|public
name|PDRectangle
name|getFontBoundingBox
parameter_list|()
block|{
name|COSArray
name|rect
init|=
operator|(
name|COSArray
operator|)
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_BBOX
argument_list|)
decl_stmt|;
name|PDRectangle
name|retval
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|rect
operator|!=
literal|null
condition|)
block|{
name|retval
operator|=
operator|new
name|PDRectangle
argument_list|(
name|rect
argument_list|)
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * Set the fonts bounding box.      *      * @param rect The new bouding box.      */
specifier|public
name|void
name|setFontBoundingBox
parameter_list|(
name|PDRectangle
name|rect
parameter_list|)
block|{
name|COSArray
name|array
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|rect
operator|!=
literal|null
condition|)
block|{
name|array
operator|=
name|rect
operator|.
name|getCOSArray
argument_list|()
expr_stmt|;
block|}
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_BBOX
argument_list|,
name|array
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the italic angle for the font.      *      * @return The italic angle.      */
specifier|public
name|float
name|getItalicAngle
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|ITALIC_ANGLE
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the italic angle for the font.      *      * @param angle The new italic angle for the font.      */
specifier|public
name|void
name|setItalicAngle
parameter_list|(
name|float
name|angle
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|ITALIC_ANGLE
argument_list|,
name|angle
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the ascent for the font.      *      * @return The ascent.      */
specifier|public
name|float
name|getAscent
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|ASCENT
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the ascent for the font.      *      * @param ascent The new ascent for the font.      */
specifier|public
name|void
name|setAscent
parameter_list|(
name|float
name|ascent
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|ASCENT
argument_list|,
name|ascent
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the descent for the font.      *      * @return The descent.      */
specifier|public
name|float
name|getDescent
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|DESCENT
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the descent for the font.      *      * @param descent The new descent for the font.      */
specifier|public
name|void
name|setDescent
parameter_list|(
name|float
name|descent
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|DESCENT
argument_list|,
name|descent
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the leading for the font.      *      * @return The leading.      */
specifier|public
name|float
name|getLeading
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|LEADING
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the leading for the font.      *      * @param leading The new leading for the font.      */
specifier|public
name|void
name|setLeading
parameter_list|(
name|float
name|leading
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|LEADING
argument_list|,
name|leading
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the CapHeight for the font.      *      * @return The cap height.      */
specifier|public
name|float
name|getCapHeight
parameter_list|()
block|{
if|if
condition|(
name|capHeight
operator|==
name|Float
operator|.
name|NEGATIVE_INFINITY
condition|)
block|{
comment|/* We observed a negative value being returned with              * the Scheherazade font. PDFBOX-429 was logged for this.              * We are not sure if returning the absolute value              * is the correct fix, but it seems to work.  */
name|capHeight
operator|=
name|java
operator|.
name|lang
operator|.
name|Math
operator|.
name|abs
argument_list|(
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|CAP_HEIGHT
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|capHeight
return|;
block|}
comment|/**      * This will set the cap height for the font.      *      * @param capHeight The new cap height for the font.      */
specifier|public
name|void
name|setCapHeight
parameter_list|(
name|float
name|capHeight
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|CAP_HEIGHT
argument_list|,
name|capHeight
argument_list|)
expr_stmt|;
name|this
operator|.
name|capHeight
operator|=
name|capHeight
expr_stmt|;
block|}
comment|/**      * This will get the x height for the font.      *      * @return The x height.      */
specifier|public
name|float
name|getXHeight
parameter_list|()
block|{
if|if
condition|(
name|xHeight
operator|==
name|Float
operator|.
name|NEGATIVE_INFINITY
condition|)
block|{
comment|/* We observed a negative value being returned with              * the Scheherazade font. PDFBOX-429 was logged for this.              * We are not sure if returning the absolute value              * is the correct fix, but it seems to work.  */
name|xHeight
operator|=
name|java
operator|.
name|lang
operator|.
name|Math
operator|.
name|abs
argument_list|(
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|XHEIGHT
argument_list|,
literal|0
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|xHeight
return|;
block|}
comment|/**      * This will set the x height for the font.      *      * @param xHeight The new x height for the font.      */
specifier|public
name|void
name|setXHeight
parameter_list|(
name|float
name|xHeight
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|XHEIGHT
argument_list|,
name|xHeight
argument_list|)
expr_stmt|;
name|this
operator|.
name|xHeight
operator|=
name|xHeight
expr_stmt|;
block|}
comment|/**      * This will get the stemV for the font.      *      * @return The stem v value.      */
specifier|public
name|float
name|getStemV
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|STEM_V
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the stem V for the font.      *      * @param stemV The new stem v for the font.      */
specifier|public
name|void
name|setStemV
parameter_list|(
name|float
name|stemV
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|STEM_V
argument_list|,
name|stemV
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the stemH for the font.      *      * @return The stem h value.      */
specifier|public
name|float
name|getStemH
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|STEM_H
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the stem H for the font.      *      * @param stemH The new stem h for the font.      */
specifier|public
name|void
name|setStemH
parameter_list|(
name|float
name|stemH
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|STEM_H
argument_list|,
name|stemH
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the average width for the font.      *      * @return The average width value.      */
specifier|public
name|float
name|getAverageWidth
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|AVG_WIDTH
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the average width for the font.      *      * @param averageWidth The new average width for the font.      */
specifier|public
name|void
name|setAverageWidth
parameter_list|(
name|float
name|averageWidth
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|AVG_WIDTH
argument_list|,
name|averageWidth
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the max width for the font.      *      * @return The max width value.      */
specifier|public
name|float
name|getMaxWidth
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|MAX_WIDTH
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the max width for the font.      *      * @param maxWidth The new max width for the font.      */
specifier|public
name|void
name|setMaxWidth
parameter_list|(
name|float
name|maxWidth
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|MAX_WIDTH
argument_list|,
name|maxWidth
argument_list|)
expr_stmt|;
block|}
comment|/**      * Returns true if widths are present in the font descriptor.      */
specifier|public
name|boolean
name|hasWidths
parameter_list|()
block|{
return|return
name|dic
operator|.
name|containsKey
argument_list|(
name|COSName
operator|.
name|WIDTHS
argument_list|)
operator|||
name|dic
operator|.
name|containsKey
argument_list|(
name|COSName
operator|.
name|MISSING_WIDTH
argument_list|)
return|;
block|}
comment|/**      * Returns true if the missing widths entry is present in the font descriptor.      */
specifier|public
name|boolean
name|hasMissingWidth
parameter_list|()
block|{
return|return
name|dic
operator|.
name|containsKey
argument_list|(
name|COSName
operator|.
name|MISSING_WIDTH
argument_list|)
return|;
block|}
comment|/**      * This will get the missing width for the font from the /MissingWidth dictionary entry.      *      * @return The missing width value, or 0 if there is no such dictionary entry.      */
specifier|public
name|float
name|getMissingWidth
parameter_list|()
block|{
return|return
name|dic
operator|.
name|getFloat
argument_list|(
name|COSName
operator|.
name|MISSING_WIDTH
argument_list|,
literal|0
argument_list|)
return|;
block|}
comment|/**      * This will set the missing width for the font.      *      * @param missingWidth The new missing width for the font.      */
specifier|public
name|void
name|setMissingWidth
parameter_list|(
name|float
name|missingWidth
parameter_list|)
block|{
name|dic
operator|.
name|setFloat
argument_list|(
name|COSName
operator|.
name|MISSING_WIDTH
argument_list|,
name|missingWidth
argument_list|)
expr_stmt|;
block|}
comment|/**      * This will get the character set for the font.      *      * @return The character set value.      */
specifier|public
name|String
name|getCharSet
parameter_list|()
block|{
name|String
name|retval
init|=
literal|null
decl_stmt|;
name|COSString
name|name
init|=
operator|(
name|COSString
operator|)
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|CHAR_SET
argument_list|)
decl_stmt|;
if|if
condition|(
name|name
operator|!=
literal|null
condition|)
block|{
name|retval
operator|=
name|name
operator|.
name|getString
argument_list|()
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * This will set the character set for the font.      *      * @param charSet The new character set for the font.      */
specifier|public
name|void
name|setCharacterSet
parameter_list|(
name|String
name|charSet
parameter_list|)
block|{
name|COSString
name|name
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|charSet
operator|!=
literal|null
condition|)
block|{
name|name
operator|=
operator|new
name|COSString
argument_list|(
name|charSet
argument_list|)
expr_stmt|;
block|}
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|CHAR_SET
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
comment|/**      * A stream containing a Type 1 font program.      *      * @return A stream containing a Type 1 font program.      */
specifier|public
name|PDStream
name|getFontFile
parameter_list|()
block|{
name|PDStream
name|retval
init|=
literal|null
decl_stmt|;
name|COSBase
name|obj
init|=
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_FILE
argument_list|)
decl_stmt|;
if|if
condition|(
name|obj
operator|instanceof
name|COSStream
condition|)
block|{
name|retval
operator|=
operator|new
name|PDStream
argument_list|(
operator|(
name|COSStream
operator|)
name|obj
argument_list|)
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * Set the type 1 font program.      *      * @param type1Stream The type 1 stream.      */
specifier|public
name|void
name|setFontFile
parameter_list|(
name|PDStream
name|type1Stream
parameter_list|)
block|{
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_FILE
argument_list|,
name|type1Stream
argument_list|)
expr_stmt|;
block|}
comment|/**      * A stream containing a true type font program.      *      * @return A stream containing a true type font program.      */
specifier|public
name|PDStream
name|getFontFile2
parameter_list|()
block|{
name|PDStream
name|retval
init|=
literal|null
decl_stmt|;
name|COSBase
name|obj
init|=
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_FILE2
argument_list|)
decl_stmt|;
if|if
condition|(
name|obj
operator|instanceof
name|COSStream
condition|)
block|{
name|retval
operator|=
operator|new
name|PDStream
argument_list|(
operator|(
name|COSStream
operator|)
name|obj
argument_list|)
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * Set the true type font program.      *      * @param ttfStream The true type stream.      */
specifier|public
name|void
name|setFontFile2
parameter_list|(
name|PDStream
name|ttfStream
parameter_list|)
block|{
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_FILE2
argument_list|,
name|ttfStream
argument_list|)
expr_stmt|;
block|}
comment|/**      * A stream containing a font program that is not true type or type 1.      *      * @return A stream containing a font program.      */
specifier|public
name|PDStream
name|getFontFile3
parameter_list|()
block|{
name|PDStream
name|retval
init|=
literal|null
decl_stmt|;
name|COSBase
name|obj
init|=
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|FONT_FILE3
argument_list|)
decl_stmt|;
if|if
condition|(
name|obj
operator|instanceof
name|COSStream
condition|)
block|{
name|retval
operator|=
operator|new
name|PDStream
argument_list|(
operator|(
name|COSStream
operator|)
name|obj
argument_list|)
expr_stmt|;
block|}
return|return
name|retval
return|;
block|}
comment|/**      * Set a stream containing a font program that is not true type or type 1.      *      * @param stream The font program stream.      */
specifier|public
name|void
name|setFontFile3
parameter_list|(
name|PDStream
name|stream
parameter_list|)
block|{
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|FONT_FILE3
argument_list|,
name|stream
argument_list|)
expr_stmt|;
block|}
comment|/**      * Get the CIDSet stream.      *      * @return A stream containing a CIDSet.      */
specifier|public
name|PDStream
name|getCIDSet
parameter_list|()
block|{
name|COSObjectable
name|cidSet
init|=
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|CID_SET
argument_list|)
decl_stmt|;
if|if
condition|(
name|cidSet
operator|instanceof
name|COSStream
condition|)
block|{
return|return
operator|new
name|PDStream
argument_list|(
operator|(
name|COSStream
operator|)
name|cidSet
argument_list|)
return|;
block|}
return|return
literal|null
return|;
block|}
comment|/**      * Set a stream containing a CIDSet.      *      * @param stream The font program stream.      */
specifier|public
name|void
name|setCIDSet
parameter_list|(
name|PDStream
name|stream
parameter_list|)
block|{
name|dic
operator|.
name|setItem
argument_list|(
name|COSName
operator|.
name|CID_SET
argument_list|,
name|stream
argument_list|)
expr_stmt|;
block|}
comment|/**      * Returns the Panose entry of the Style dictionary, if any.      *      * @return A Panose wrapper object.      */
specifier|public
name|PDPanose
name|getPanose
parameter_list|()
block|{
name|COSDictionary
name|style
init|=
operator|(
name|COSDictionary
operator|)
name|dic
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|STYLE
argument_list|)
decl_stmt|;
if|if
condition|(
name|style
operator|!=
literal|null
condition|)
block|{
name|COSString
name|panose
init|=
operator|(
name|COSString
operator|)
name|style
operator|.
name|getDictionaryObject
argument_list|(
name|COSName
operator|.
name|PANOSE
argument_list|)
decl_stmt|;
name|byte
index|[]
name|bytes
init|=
name|panose
operator|.
name|getBytes
argument_list|()
decl_stmt|;
return|return
operator|new
name|PDPanose
argument_list|(
name|bytes
argument_list|)
return|;
block|}
return|return
literal|null
return|;
block|}
block|}
end_class

end_unit

